# Honeycomb 使用手册

## 📖 概述

Honeycomb 是一个基于 Model Context Protocol (MCP) 的服务配置管理平台，提供可视化的 MCP 服务配置和管理功能。

## 🚀 快速开始

### 访问平台

启动服务后，访问 Web 界面：`http://0.0.0.0:3002`

### 界面说明

- **统计卡片**：显示服务总数、运行中/已停止服务数、工具总数
- **状态图表**：可视化展示服务状态分布
- **搜索筛选**：支持按名称搜索、按状态筛选
- **配置表格**：展示所有 MCP 服务配置列表

## 📝 创建 MCP 服务

### 步骤 1：点击"添加"按钮

在页面右上角点击 **"添加"** 按钮，打开配置编辑抽屉。

### 步骤 2：填写基本信息

在编辑抽屉中填写以下必填信息：

- **服务名称**：MCP 服务的名称（例如：`my-mcp-service`）
- **版本号**：服务版本（例如：`1.0.0`）
- **描述**：服务的功能描述
- **状态**：选择"运行中"或"已停止"（新建时默认为"已停止"）

### 步骤 3：添加工具

1. 点击 **"添加工具"** 按钮
2. 在工具编辑表单中填写：
   - **工具名称**：工具的唯一标识（必填）
   - **工具描述**：工具的功能说明（必填）
   - **输入Schema**：JSON Schema 格式的输入参数定义（可选）
   - **输出Schema**：JSON Schema 格式的输出结果定义（可选）
   - **回调函数**：JavaScript 回调函数代码（可选）

#### Schema 格式示例

**输入Schema**：
```json
{
  "message": {
    "type": "string",
    "description": "要处理的消息内容"
  },
  "count": {
    "type": "integer",
    "description": "重复次数"
  }
}
```

**输出Schema**：
```json
{
  "result": {
    "type": "string",
    "description": "处理结果"
  }
}
```

#### 回调函数示例

```javascript
async ({ input }) => {
  // 处理输入参数
  const result = `处理结果: ${input.message}`;
  return {
    content: [
      { type: "text", text: result }
    ]
  };
}
```

### 步骤 4：保存配置

点击抽屉底部的 **"保存"** 按钮，配置将保存到数据库。

## ▶️ 启动 MCP 服务

### 方法一：在配置表格中启动

1. 在配置表格中找到状态为 **"已停止"** 的服务
2. 点击该服务行的 **"启动"** 按钮
3. 确认启动提示
4. 服务状态将更新为 **"运行中"**

### 方法二：在编辑时设置状态

1. 点击服务的 **"编辑"** 按钮
2. 在编辑抽屉中将状态设置为 **"运行中"**
3. 点击 **"保存"** 按钮

## ⏹️ 停止 MCP 服务

1. 在配置表格中找到状态为 **"运行中"** 的服务
2. 点击该服务行的 **"停止"** 按钮
3. 确认停止提示
4. 服务状态将更新为 **"已停止"**

## ✏️ 编辑服务配置

1. 在配置表格中点击目标服务的 **"编辑"** 按钮
2. 在编辑抽屉中修改配置信息
3. 可以添加、编辑或删除工具
4. 点击 **"保存"** 按钮保存更改

### 编辑工具

- 点击工具卡片上的 **"编辑"** 按钮修改工具配置
- 点击 **"删除"** 按钮删除工具
- 修改后点击 **"保存"** 按钮保存工具配置

## 🗑️ 删除服务

1. 在配置表格中点击目标服务的 **"删除"** 按钮
2. 确认删除提示
3. 服务及其关联的所有工具将被删除

> ⚠️ **注意**：删除操作不可恢复，请谨慎操作。

## 📋 复制 MCP 配置

1. 在配置表格中点击目标服务的 **"复制 MCP"** 按钮
2. MCP 配置 JSON 将自动复制到剪贴板
3. 可以将配置粘贴到 MCP 客户端配置文件中

### MCP 配置格式

复制的配置格式如下：

```json
{
  "mcpServers": {
    "服务名称": {
      "url": "http://0.0.0.0:3002/sse",
      "transport": "sse",
      "type": "sse",
      "headers": {
        "MCP_ID": "服务ID"
      }
    }
  }
}
```

## 🔍 搜索和筛选

### 按名称搜索

在搜索框中输入服务名称的关键字，表格将实时过滤显示匹配的服务。

### 按状态筛选

在状态筛选下拉框中选择：
- **全部**：显示所有服务
- **运行中**：仅显示运行中的服务
- **已停止**：仅显示已停止的服务

### 刷新数据

点击 **"刷新"** 按钮重新加载所有配置数据。

## 📊 分页浏览

配置表格支持分页显示：
- 使用底部的分页控件切换页面
- 显示当前页数和总记录数

## 💡 使用技巧

1. **服务状态管理**：只有状态为"运行中"的服务才会实际启动 MCP 服务实例
2. **工具配置**：Schema 使用标准的 JSON Schema 格式，系统会自动转换为 Zod schema
3. **回调函数**：回调函数接收 `{ input }` 参数，需要返回符合输出 Schema 的结果
4. **批量操作**：可以创建多个服务配置，每个服务可以包含多个工具
5. **配置持久化**：所有配置保存在本地 SQL.js 数据库中，无需额外数据库服务

## 🔗 相关链接

- **API 文档**：访问 `http://0.0.0.0:3002/api-docs` 查看完整的 API 文档
- **项目仓库**：https://github.com/betterhyq/honeycomb

---

如有问题或建议，欢迎提交 Issue 或 Pull Request。
